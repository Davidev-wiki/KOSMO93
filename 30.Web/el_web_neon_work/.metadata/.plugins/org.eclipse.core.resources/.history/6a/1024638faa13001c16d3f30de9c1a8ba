<%@ page language="java" contentType="text/html; charset=EUC-KR"
	pageEncoding="EUC-KR"%>
<%@ page import="java.util.ArrayList"%>
<%@ page import="a.b.c.com.kosmo.board.vo.BoardVO"%>

<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>게시판 글 전체 조회</title>
<style type="text/css">
	* {
		margin: 0 auto;
		/*text-align: center;*/
	}
				

	td, th {
		 padding: 5px;
	}
	
	.tt {
		text-align: center;
	}
</style>
<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<script type="text/javascript">
	
	// 체크박스 체크 확인하기
	function boardUpdate(actionUpdate) {
		console.log("boardSelectAll.boardUpdate()진입 : " + actionUpdate);

		// 수정버튼 눌렀을 때 (=매개변수에 'U'를 받아온 경우) 수정하는 로직 실행.
		// Controller에 ISUD_TYPE을 함께 보낸다
		if ('U' == acctionUpdate) {
			var v1 = "UOK";
			document.boardUpdateForm.action = "/testKck/board?ISUD_TYPE="
			v1;
		}
		if ('U' == acctionUpdate) {
			var v2 = "DOK";
			document.boardUpdateForm.action = "/testKck/board?ISUD_TYPE="
			v2;
		}

		document.boardUpdateForm.method = "POST";
		document.boardUpdateForm.enctype = "application/x-www-form-urlencoded";
		document.boardUpdateForm.submit();

	}

	function checkAction(actionName) {
		console.log("boardSelectAll.checkAction()진입 : " + actionName);

		// 등록 버튼 눌렀을 경우
		// board.html로 이동시킨다
		if ('I' == actionName) {
			location.href = "/testKck/kck/board/board.html";
		}
		// 목록 버튼 눌렀을 경우
		// Controller에 전체 조회페이지로 이동시킨다
		if ('SALL' == actionName) {
			location.href = "/testKck/board?ISUD_TYPE=SALL";
		}

	}
</script>
</head>
<body>
<% request.setCharacterEncoding("EUC-KR");%>
SELECT ALL
<%
	Object obj = request.getAttribute("aListAll");
	if (obj == null) return;
	
	ArrayList<BoardVO> aList = (ArrayList<BoardVO>)obj;
	int nCnt = aList.size();
	out.println("전체 조회 건 수 : " + nCnt + " 건");
%>
<table>
	<tr>
		<td colspan="2">
			<font size="4" color="blue">
			<img src="/testKck/img/ase.gif" width="25" height="25" alter="image">
			BOARD TEST
			</font>
		</td>
	</tr>
</table>
<hr>
<hr>
<form name="boardSelectAllForm" id="boardSelecctAllForm">
<table border="1">
<thead>
	<tr>
		<td class="tt"><input type="checkbox" name="chkAll" id="chkAll"></td>
		<td class="tt">순번</td>
		<td class="tt">글 번호</td>
		<td class="tt">글 제목</td>
		<td class="tt">저자</td>
		<td class="tt">패스워드</td>
		<td class="tt">내용</td>
		<td class="tt">이미지</td>
		<td class="tt">삭제여부</td>
		<td class="tt">등록일</td>
		<td class="tt">수정일</td>
	</tr>
</thead>
<%		for(int i=0; i<nCnt; i++){
		
		BoardVO bvo = aList.get(i);
%>
<tbody>
	<tr>
		<td class="tt">
			<input type="checkbox" id="bnumcheck" name="bnumcheck" value=<%= bvo.getBnum() %> onclick="checkOnly(this)">
		</td>
		<td class="tt"><%= i+1 %></td>
		<td class="tt"><%= bvo.getBnum() %></td>
		<td class="tt"><%= bvo.getBsubject() %></td>
		<td class="tt"><%= bvo.getBwriter() %></td>
		<td class="tt"><%= bvo.getBpw() %></td>
		<td class="tt"><%= bvo.getBmemo() %></td>
		<td class="tt"><img src="/testKck/fileupload/board/<%=bvo.getBphoto() %>" border="1" width="25" height="25" alt="image"></td>
		<td class="tt"><%= bvo.getDeleteyn() %></td>
		<td class="tt"><%= bvo.getInsertdate() %></td>
		<td class="tt"><%= bvo.getUpdatedate() %></td>
	</tr>
<%
		} // for문 종료
%>
	<tr>
		<td colspan="20" align="right">
			<input type="hidden" name="ISUD_TYPE" id="ISUD_TYPE"  value="">
			<input type="button" value="등록" id="I">
			<input type="button" value="조회" id="SALL">
			<input type="button" value="수정" id="U">
			<input type="button" value="삭제" id="D">
		</td>		
	</tr>
</tbody>
</table>
</form>
</body>
</html>