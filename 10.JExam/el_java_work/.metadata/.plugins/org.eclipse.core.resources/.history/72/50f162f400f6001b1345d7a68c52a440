package a.b.c.ch9.kckmem;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.util.ArrayList;

import a.b.c.ch9.kck.vo.KckMemberVO;
import a.b.c.common.KckConnProperty;

public class KckMember {

	// 쿼리문
	public static final String KMEM_SELECT = "SELECT * FROM KCK_MEMBER";
	// 멤버변수

	// 함수
	public ArrayList<KckMemberVO> kmemSelectALL() {

		Connection conn = null;
//		Statement stmt = null;
		PreparedStatement pstmt = null;
		ResultSet rsRs = null;

		ArrayList<KckMemberVO> aList = null;

		try {

			conn = KckConnProperty.getConnection();
			pstmt = conn.prepareStatement(KckMember.KMEM_SELECT);
			rsRs = pstmt.executeQuery();

			if (rsRs != null) {

				aList = new ArrayList<KckMemberVO>();

				while (rsRs.next()) {

					KckMemberVO kvo = new KckMemberVO();
					kvo.setKnum(rsRs.getString("Knum"));
					kvo.setKname(rsRs.getString("Kname"));
					kvo.setKid(rsRs.getString("Kid"));
					kvo.setKpw(rsRs.getString("Kpw"));
					kvo.setKbirth(rsRs.getString("Kbirth"));
					kvo.setKgender(rsRs.getString("Kgender"));
					kvo.setKtel(rsRs.getString("Ktel"));
					kvo.setKhp(rsRs.getString("Khp"));
					kvo.setKemail(rsRs.getString("Kemail"));
					kvo.setKaddr(rsRs.getString("Kaddr"));
					kvo.setKhobby(rsRs.getString("Khobby"));
					kvo.setKphoto(rsRs.getString("Kphoto"));
					kvo.setKskill(rsRs.getString("Kskill"));
					kvo.setKjob(rsRs.getString("Kjob"));
					kvo.setDeleteyn(rsRs.getString("Deleteyn"));
					kvo.setInsertdate(rsRs.getString("Insertdate"));
					kvo.setUpdatedate(rsRs.getString("Updatedate"));

					aList.add(kvo);
				}
			}
		} catch (Exception e) {
			System.out.println("디비연결 또는 쿼리에서 문제가 생겼슴 >>> : " + e.getMessage());
		}

		return aList;
	}

	public static void main(String[] args) {
		// TODO Auto-generated method stub

		KckMemberVO kcm = new KckMemberVO("일", "이", "삼", "사", "오", "육", "칠", "팔", "구", "십", "십일", "십이", "십삼", "십사", "십오", "십육", "십칠");
		System.out.println(kcm.getKnum());
		
		
//		KckMember kckm = new KckMember();
//
//		ArrayList<KckMemberVO> aList = kckm.kmemSelectALL();
//
//		if (aList != null && aList.size() > 0) {
//			for (int i = 0; i < aList.size(); i++) {
//
//				KckMemberVO kvo = aList.get(i);
//
//				System.out.print(kvo.getKnum() + " : ");
//				System.out.print(kvo.getKname() + " : ");
//				System.out.print(kvo.getKid() + " : ");
//				System.out.print(kvo.getKpw() + " : ");
//				System.out.print(kvo.getKbirth() + " : ");
//				System.out.print(kvo.getKgender() + " : ");
//				System.out.print(kvo.getKtel() + " : ");
//				System.out.print(kvo.getKhp() + " : ");
//				System.out.print(kvo.getKemail() + " : ");
//				System.out.print(kvo.getKaddr() + " : ");
//				System.out.print(kvo.getKhobby() + " : ");
//				System.out.print(kvo.getKphoto() + " : ");
//				System.out.print(kvo.getKskill() + " : ");
//				System.out.print(kvo.getKjob() + " : ");
//				System.out.print(kvo.getDeleteyn() + " : ");
//				System.out.print(kvo.getInsertdate() + " : ");
//				System.out.println(kvo.getUpdatedate());
//			}
//		} else {
//			System.out.println("aList 에 데이터가 없네요 >>> : " + aList);
//		}
	}
}
